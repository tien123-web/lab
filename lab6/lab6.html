<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web Development Courses</title>
    <link rel="stylesheet" href="lab6.css" />
  </head>
  <body>
    <div class="container">
      <!-- Category Navigation -->
      <div class="category-nav">
        <button class="category active">
          Web Development <span>13.3M+ learners</span>
        </button>
        <button class="category">
          JavaScript <span>17.7M+ learners</span>
        </button>
        <button class="category">React JS <span>7M+ learners</span></button>
        <button class="category">Angular <span>4M+ learners</span></button>
        <button class="category">Java <span>15.5M+ learners</span></button>
        <button class="category">
          Android Development <span>8M+ learners</span>
        </button>
        <button class="category">
          iOS Development <span>4M+ learners</span>
        </button>
        <button class="category">CSS <span>9M+ learners</span></button>
      </div>

      <!-- Courses Section -->
      <div class="courses">
        <div class="course-card">
          <img src="/img/web-development-bootcamp.jpg" alt="Course Image" />
          <h3>The Complete 2024 Web Development Bootcamp</h3>
          <p>Dr. Angela Yu, Developer and Lead Instructor</p>
          <p class="rating">4.7 <span>★</span> (409,451)</p>
          <p class="price">₫1,699,000</p>
          <span class="bestseller">Bestseller</span>
        </div>

        <div class="course-card">
          <img src="/img/web-developer-bootcamp-2024.jpg" alt="Course Image" />
          <h3>The Web Developer Bootcamp 2024</h3>
          <p>Colt Steele</p>
          <p class="rating">4.7 <span>★</span> (276,674)</p>
          <p class="price">₫2,399,000</p>
        </div>

        <div class="course-card">
          <img src="/img/web-development-masterclass.jpg" alt="Course Image" />
          <h3>Web Development Masterclass - Online Certification Course</h3>
          <p>YouAccel Training</p>
          <p class="rating">4.3 <span>★</span> (10,000)</p>
          <p class="price">₫1,499,000</p>
        </div>

        <div class="course-card">
          <img src="/img/practical-web-development.jpg" alt="Course Image" />
          <h3>Practical Web Development: 22 Courses in 1</h3>
          <p>Creative Online School</p>
          <p class="rating">4.2 <span>★</span> (4,353)</p>
          <p class="price">₫449,000</p>
        </div>
      </div>

      <!-- Show More Button -->
      <div class="show-more">
        <button onclick="loadDetailContent('coderbyte.html')">
          Show all Web Development courses
        </button>
      </div>

      <!-- Popover Detail (Hidden by default) -->
      <div class="course-detail" id="course-detail">
        <div class="course-content">
          <h4 id="course-title">Course Title</h4>
          <p id="course-update">Updated October 2024</p>
          <p id="course-info">74 total hours • All Levels • Subtitles</p>
          <ul id="course-list">
            <li>Learn HTML, CSS, JavaScript</li>
            <li>Responsive layouts</li>
            <li>Hands-on projects</li>
          </ul>
          <div class="cart-section">
            <button class="add-to-cart">
              <a
                href="#"
                onclick="loadDetailContent('learning.html?prev=web-development')"
                >Add to Cart</a
              >
            </button>
            <button class="wishlist">♡ Add to Wishlist</button>
          </div>
        </div>
      </div>
    </div>
    <script>
      const courseCards = document.querySelectorAll(".course-card");
      const courseDetail = document.getElementById("course-detail");

      courseCards.forEach((card) => {
        card.addEventListener("click", (event) => {
          // Preventing event propagation to document
          event.stopPropagation();

          const isActive = card.classList.contains("active");

          // Remove active state from all cards
          courseCards.forEach((c) => c.classList.remove("active"));

          // Close any open popovers if already active
          if (courseDetail.classList.contains("active")) {
            courseDetail.classList.remove("active");
          }

          if (!isActive) {
            card.classList.add("active");

            // Positioning popover next to the clicked card
            const cardRect = card.getBoundingClientRect();
            courseDetail.style.top = `${cardRect.top + window.scrollY}px`;
            courseDetail.style.left = `${
              cardRect.left + cardRect.width + 10
            }px`;
            courseDetail.style.height = `${cardRect.height}px`;
            courseDetail.classList.add("active");
          }
        });
      });

      // Close the popover when clicking outside the course card or popover
      document.addEventListener("click", (event) => {
        if (
          !courseDetail.contains(event.target) &&
          !event.target.closest(".course-card")
        ) {
          courseDetail.classList.remove("active");
          courseCards.forEach((c) => c.classList.remove("active"));
        }
      });
    </script>
  </body>
</html>
